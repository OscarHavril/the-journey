<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=8.0, user-scalable=no">
    <meta charset="UTF-8">
    <script>
    </script>
    <style>
        body {
            margin: 0;
            background-color: black;
            color: white;
        }

        #logs {
            font-size: 100%;
        }
    </style>
</head>

<body>
    <div style="display:none;">
        <img id="source" src="tiles.png">
    </div>
    <button id="settings" onclick="document.getElementById('set').style.display = 'block';">Réglages</button>
    <div id="set" style="display:none; color:grey;"><input type="text" id="size" alt="Size" value="100%"><button
            id="setSize"
            onclick="document.getElementById('logs').style.fontSize = document.getElementById('size').value">Changer la
            taille</button></div>
    <div id="logs"></div>
    <button id="credits"
        onclick="document.getElementById('cred').style.display = 'block', mixauthor();">Crédits</button>
    <div id="cred" style="display:none; color:grey;">
        <div id="misc"></div>
        <div id='ath'></div>
    </div>
    <script src="madlib.js"></script>
    <script>
        rand.setup(1 / rand.real(0, 100000000000));
        function toTimeFormat(a) {
            var r = "";
            var powers = [365.25 * 24 * 60 * 60000, 24 * 60 * 60000, 60 * 60000, 60000, 1000, 1]
            var suffix = ['years', 'days', 'hours', 'minutes', 'seconds', 'miliseconds']
            for (let i = 0; i < powers.length; i++) {
                if (Math.floor(a / powers[i])) r += Math.floor(a / powers[i]) + " " + suffix[i] + ( i<powers.length-1 ? ", " : ""), a -= Math.floor(a/powers[i])*powers[i];
            }
            return r
        }
        var d = new Date();
        var text = "Le rideau se balance doucement, au rythme du vent. Les premiers rayons de soleil se fraient un chemin de ma fenêtre, à travers ma chambre, pour finir leur course à l’orée de mon lit, où ils se déposent alors délicatement sur mes pieds. Je vérifie mon sac une fois encore, je ne suis pas vraiment à ce que je fais, je me laisse tomber au sol pour profiter encore de cette manne qui m’inonde de toute sa chaleur réconfortante. Ce n’est pas que j’ai peur, mais j’appréhende juste un peu. Alors j’essaie de me distraire, je profite du soleil, je vérifie mon sac. Oui c’est idiot, de toute façon je devrais descendre, mais bon. J’ai ouvert les rideaux, j’ai de la chance, ma fenêtre donne sur la forêt. Un papillon se pose sur la rambarde, il est magnifique, avec ses grandes ailes bleu nuit, constellées de petits taches blanches, comme autant d’étoiles dans le ciel nocturne. Il est même dit que nos ancêtres les observaient pour se repérer, car selon eux, ils sont le reflet de la nuit. Je n’ai pas vraiment envie de partir. J’ai toujours vécu ici, dans ce petit village au cœur des bois, et... Mais d’un autre côté j’ai soif de voyage, et de découverte ! Le papillon semble être ravi de son emplacement au soleil, et moi de même, je crois n’en avoir jamais vu d’aussi près. Les anciens le répètent à qui veut l’entendre, que toutes les créatures de notre monde sont liées, et en ce moment, j’ai vraiment l’impression de ne faire qu’un avec notre monde. Le soleil réchauffe mon visage, dépose sa lumière orangée sur tous les arbres, les oiseaux sifflent, le papillon s’envole.</br>C’était un adieu. Un adieu du papillon à moi, et de moi au papillon. Et désormais, je me sens prête. Le monde n’attend que moi, au dehors, et j’arrive.</br></br>La porte, c’est deux piliers en bois à quelques mètres de distance l’un de l’autre, sur lesquels pivotent deux battants en bouleau. Elle n’est d’ailleurs pas si impressionnante que ça, et ne protège guère plus que des loups et autres bêtes sauvages. Mais en cet instant, la porte, c’est tellement plus. C’est la limite entre le village, et le reste du monde, une démarcation, une ligne tellement simple, mais en même temps tellement difficile à franchir. Un pas, un seul, et c’est parti, pas de retour en arrière. Mais maintenant je suis prête, je le sais, alors pourquoi ne suis-je pas déjà de l’autre côté ? Je me retourne. Le village est magnifique, sous cette lumière, comme je ne l’ai jamais vu. Les maisons ont l’air de boules de branchages déposées anarchiquement par un géant, certaines ont des toits en chaume, d’autres ces grandes feuilles de palmier, il y a des murs en bois le plus souvent, mais on voit parfois de la glaise, et tout ça forme cette magnifique folie. A quoi ressemblent les villages au-dehors ? Oh, il semble qu’on essaye de troubler ma rêverie. C’est Mousse, le gardien de la porte.</br>« Ardath ? Tu est là ?</br> - Oui, je... je regardais derrière moi.</br> - Ce n’est pas le bon état d’esprit à avoir ça ! Regarde toujours devant toi ! Ne laisse pas ton chemin te ralentir ! »</br>Je ne sais pas comment il fait, mais il a de l’énergie pour vingt. C’est le genre de personne toujours prêt à aider, qui fait tellement de choses qu’on en vient à se demander si il dort. Et étonnamment, ses conseils sont souvent aussi justes que ceux des anciens.</br>« Je ne sais pas, j’ai l’impression qu’il me manque quelque chose. Quelque chose que je ne dois pas oublier.</br> - Laisse lui du temps, elle se dépêche, elle fait de son mieux. »</br>Et j’aperçois un petite forme qui volette entre les maisons. C’est un papillon.</br>« On dirait qu’elle a décidé de venir avec toi tout compte fait. Prends soin d’elle, et elle prendra soin de toi. Elle s’appelle Belle-de-Lune. »</br>Peut-être sera-t-il le prochain druide. Ça ne me surprendrait pas.</br>Elle se pose sur mon doigt tendu, puis s'envole à nouveau. Oui. Nous pouvons y aller.</br>« Adieu ! » Et ils sont tous là, et ils observent. Alors je fais face à la porte, et je la franchis. Et nous sommes parties.</br></br>Je pense que la forêt est le lieu le plus coloré que je connaisse. Bien évidemment, il y a le marron des arbres, et le vert des feuilles, mais aussi du bleu, du rouge, du jaune et tellement plus, des oiseaux, des baies, des fleurs. Je me penche, ces baies là permettent de désinfecter. Il a parfois des ruisseaux, ou bien des racines qui dépassent, un peu de mousse, des marques de repérage, un buisson ou un rocher. Ceux qui disent que les forêts sont toujours identiques sont des menteurs."
        var n = d;
        var l = Math.floor(1000 * ((d - 1587765600000 + 86400000) / 86400000) + 1);
        var tte = (text.length - (1000 * ((d - 1587765600000 + 86400000) / 86400000) + 1)) * 86400;
        var timeToEnd = toTimeFormat(tte);
        document.getElementById("logs").innerHTML = text.substr(0, l) + "...";
        document.getElementById("misc").innerHTML += "(" + (Math.round(10000 * (l / text.length)) / 100) + "% publié;   " + l + " letters / " + text.length + " ("+(text.length - l)+" remaining);   ends in " + timeToEnd + ")";
        function mixauthor() {
            var t = "";
            for (let i = 0; i < rand.int(12, 16); i++) {
                var r = rand.int(0, 3000);
                r = String.fromCharCode(parseInt(r, 16))
                t += r
            }
            document.getElementById("ath").innerHTML = "Auteur(e) : " + t;
            setTimeout(mixauthor, 1000 / 120)
        }
    </script>
</body>

</html>